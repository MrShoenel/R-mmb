<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Full Bayesian inferencing for determining the probability or
relative likelihood of a given value. — bayesProbability • mmb</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Full Bayesian inferencing for determining the probability or
relative likelihood of a given value. — bayesProbability" />
<meta property="og:description" content="Uses the full extended theorem of Bayes, taking all selected features
into account. Expands Bayes' theorem to accomodate all dependent
features, then calculates each conditional probability (or relative
likelihood) and returns a single result reflecting the probability or
relative likelihood of the target feature assuming its given value,
given that all the other dependent features assume their given value.
The target feature (designated by 'labelCol') may be discrete or continuous.
If at least one of the depending features or the the target feature
is continuous and the PDF ('doEcdf' = FALSE) is built, the result of this
function is a relative likelihood of the target feature's value. If
all of the features are discrete or the empirical CDF is used instead
of the PDF, the result of this function is a probability." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mmb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.13.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Cluster-Analysis.html">Cluster Analysis</a>
    </li>
    <li>
      <a href="../articles/Hyperparameter-Evaluation.html">Hyperparameter Evaluation</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MrShoenel/R-mmb/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Full Bayesian inferencing for determining the probability or
relative likelihood of a given value.</h1>
    <small class="dont-index">Source: <a href='https://github.com/MrShoenel/R-mmb/blob/master/R/bayes.R'><code>R/bayes.R</code></a></small>
    <div class="hidden name"><code>bayesProbability.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Uses the full extended theorem of Bayes, taking all selected features
into account. Expands Bayes' theorem to accomodate all dependent
features, then calculates each conditional probability (or relative
likelihood) and returns a single result reflecting the probability or
relative likelihood of the target feature assuming its given value,
given that all the other dependent features assume their given value.
The target feature (designated by 'labelCol') may be discrete or continuous.
If at least one of the depending features or the the target feature
is continuous and the PDF ('doEcdf' = FALSE) is built, the result of this
function is a relative likelihood of the target feature's value. If
all of the features are discrete or the empirical CDF is used instead
of the PDF, the result of this function is a probability.</p>
    </div>

    <pre class="usage"><span class='fu'>bayesProbability</span>(
  <span class='no'>df</span>,
  <span class='no'>features</span>,
  <span class='no'>targetCol</span>,
  <span class='kw'>selectedFeatureNames</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(),
  <span class='kw'>shiftAmount</span> <span class='kw'>=</span> <span class='fl'>0.1</span>,
  <span class='kw'>retainMinValues</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>doEcdf</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>useParallel</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df</th>
      <td><p>data.frame that contains all the feature's data</p></td>
    </tr>
    <tr>
      <th>features</th>
      <td><p>data.frame with bayes-features. One of the features needs
to be the label-column.</p></td>
    </tr>
    <tr>
      <th>targetCol</th>
      <td><p>string with the name of the feature that represents the
label.</p></td>
    </tr>
    <tr>
      <th>selectedFeatureNames</th>
      <td><p>vector default <code><a href='https://rdrr.io/r/base/c.html'>c()</a></code>. Vector of strings
that are the names of the features the to-predict label depends on. If an
empty vector is given, then all of the features are used (except for the
label). The order then depends on the features' order.</p></td>
    </tr>
    <tr>
      <th>shiftAmount</th>
      <td><p>numeric an offset value used to increase any one
probability (factor) in the full built equation. In scenarios with many
dependencies, it is more likely that a single conditional probability
becomes zero, which would result in the entire probability being zero.
Since this is often useless, the 'shiftAmount' can be added to each
factor, resulting in a non-zero probability that can at least be used
to order samples by likelihood. Note that, with a positive 'shiftAmount',
the result of this function cannot be said to be a probability any
longer, but rather results in a comparable likelihood (a 'probability
score').</p></td>
    </tr>
    <tr>
      <th>retainMinValues</th>
      <td><p>integer to require a minimum amount of data points
when segmenting the data feature by feature.</p></td>
    </tr>
    <tr>
      <th>doEcdf</th>
      <td><p>default FALSE a boolean to indicate whether to use the
empirical CDF to return a probability when inferencing a continuous
feature. If false, uses the empirical PDF to return the rel. likelihood.
This parameter does not have any effect if all of the variables are
discrete or when doing a regression. Otherwise, for each continuous
variable, the probability to find a value less then or equal - given
the conditions - is returned. Note that the interpretation of probability
using the ECDF much deviates and must be used with care, especially
since it affects each factor in Bayes equation that is continuous. This
is especially true for the case where <code>shiftAmount &gt; 0</code>.</p></td>
    </tr>
    <tr>
      <th>useParallel</th>
      <td><p>default NULL a boolean to indicate whether to use a
previously registered parallel backend. If no explicit value was given,
calls <code><a href='https://rdrr.io/pkg/foreach/man/getDoParWorkers.html'>foreach::getDoParRegistered()</a></code> to check for a parallel
backend. When using parallelism, this function calculates each factor
in the numerator and denominator of the final equation in parallel.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>numeric probability (inferring discrete labels) or relative
likelihood (regression, inferring likelihood of continuous value) or most
likely value given the conditional features. If using a positive
<code>shiftAmount</code>, the result is a 'probability score'.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Bayes T (1763).
&#8220;LII. An essay towards solving a problem in the doctrine of chances. By the late Rev. Mr. Bayes, FRS communicated by Mr. Price, in a letter to John Canton, AMFR S.&#8221;
<em>Philosophical transactions of the Royal Society of London</em>, 370--418.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>test-case "a zero denominator can happen"</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>feat1</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>mmb</span><span class='kw ns'>::</span><span class='fu'><a href='createFeatureForBayes.html'>createFeatureForBayes</a></span>(
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"Petal.Length"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='no'>iris</span>$<span class='no'>Petal.Length</span>))
<span class='no'>feat2</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>mmb</span><span class='kw ns'>::</span><span class='fu'><a href='createFeatureForBayes.html'>createFeatureForBayes</a></span>(
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='no'>iris</span>$<span class='no'>Petal.Width</span>))
<span class='no'>featT</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>mmb</span><span class='kw ns'>::</span><span class='fu'><a href='createFeatureForBayes.html'>createFeatureForBayes</a></span>(
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"Species"</span>, <span class='no'>iris</span>[<span class='fl'>1</span>,]$<span class='no'>Species</span>, <span class='kw'>isLabel</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># Check the probability of Species=setosa, given the other 2 features:</span>
<span class='kw pkg'>mmb</span><span class='kw ns'>::</span><span class='fu'>bayesProbability</span>(
  <span class='kw'>df</span> <span class='kw'>=</span> <span class='no'>iris</span>, <span class='kw'>features</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span>(<span class='no'>feat1</span>, <span class='no'>feat2</span>, <span class='no'>featT</span>), <span class='kw'>targetCol</span> <span class='kw'>=</span> <span class='st'>"Species"</span>)</div><div class='output co'>#&gt; [1] 0.03154577</div><div class='input'>
<span class='co'># Now check the probability of Species=versicolor:</span>
<span class='no'>featT</span>$<span class='no'>valueChar</span> <span class='kw'>&lt;-</span> <span class='st'>"versicolor"</span>
<span class='kw pkg'>mmb</span><span class='kw ns'>::</span><span class='fu'>bayesProbability</span>(
  <span class='kw'>df</span> <span class='kw'>=</span> <span class='no'>iris</span>, <span class='kw'>features</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span>(<span class='no'>feat1</span>, <span class='no'>feat2</span>, <span class='no'>featT</span>), <span class='kw'>targetCol</span> <span class='kw'>=</span> <span class='st'>"Species"</span>)</div><div class='output co'>#&gt; [1] 3.933117</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sebastian Hönel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


